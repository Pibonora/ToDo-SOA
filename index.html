<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/script.js" defer></script>
    <!-- font-awesome  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script type="text/javascript" src="jquery-3.7.1.min.js"> </script>
    <script type="text/javascript">
        $(document).ready(()=> {
            $('#todo-form').submit((evento) => {
                evento.preventDefault();
                $.ajax({
                    url: 'http://localhost:9000/tarefa/cadastrar',
                    method: 'POST' , 
                    contentType: 'application/json',
                    data: JSON.stringify({
                        titulo: $('#todoInput').val(),
                    }),
                    complete: (res) => {
                        alert(res.responseText);
                        $('input').val('');
                    }
                });
            });
        })
    </script>
</head>
<body>
    <div class="todo-container">
        <header>
            <h1>To do Avançado</h1>
        </header>
        <form action="" id="todo-form">
            <p>Adicione sua tarefa:</p>
            <div class="form-control">
                <input type="text" id="todoInput" placeholder="O que você vai fazer?">
                <button> 
                    <i class="fa-thin fa-plus"></i>
                </button>
            </div>
        </form>
        <form id="edit-form" class="hide">
            <p>Edite sua tarefa: </p>
            <div class="form-control">
                <input type="text" id="edit-input">
                <button type="submit">
                <i class="fa-solid fa-check-double"></i>
                </button>
            </div>
            <button id="cancel-edit-btn">
                Cancelar
            </button>
        </form>
        <div id="toolbar">
            <div id="search">
                <h4>Pesquisar:</h4>
                <form action="">
                    <input type="text" id="search-input" placeholder="Buscar">
                    <button id="erase-button">
                        <i class="fa-solid fa-delete-left"></i>
                    </button>
                </form>
            </div>
            <div id="filter">
                <h4>Filtrar:</h4>
                <select name="" id="filter-select">
                    <option value="all"> Todos</option>
                    <option value="done">Feitos</option>
                    <option value="todo">A fazer</option>
                </select>
            </div>
        </div>
        <div id="todo-list">
            <div class="todo done" >
                <h3>Estou fazendo alguma coisa</h3>
                <button class="finish-todo">
                    <i class="fa-solid fa-check"></i>
                </button>
                <button class="edit-todo">
                    <i class="fa-solid fa-pen"></i>
                </button>
                <button class="remove-todo">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            <div class="todo">
                <h3>Estou estudando JavaScript</h3>
                <button class="finish-todo">
                    <i class="fa-solid fa-check"></i>
                </button>
                <button class="edit-todo">
                    <i class="fa-solid fa-pen"></i>
                </button>
                <button class="remove-todo">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>
    </div>
</body>
</html>